<div class="modal-header">
    <h4 class="modal-title" id="modal-basic-title">Add Indicator Permissions</h4>
    <button type="button" class="btn-close" (click)="modal.dismiss()" aria-label="Close"></button>
</div>
<div class="modal-body">

    <div class="alert alert-info" *ngIf="!indicators.length">
        <i class="fa fa-info-circle me-2"></i>This will create an <strong>All Indicators</strong> permission
    </div>

    <form id="indicatorPermissionsOptions" name="indicatorPermissionsOptions" (submit)="close()" novalidate #indicatorPermissionsOptions="ngForm" [ngClass]="{ 'was-validated': indicatorPermissionsOptions.submitted }">

        <fieldset>

            <div class="row g-3">

                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3">
                    <div class="form-group" [ngClass]="{ 'is-invalid': edit.invalid }">

                        <label for="edit">
                            Edit:
                        </label>

                        <div class="form-check">
                            <input id="edit" name="edit" class="form-check-input" type="checkbox" [(ngModel)]="options.edit" #edit="ngModel" />
                            <label class="form-check-label" for="edit">
                                Edit
                            </label>
                        </div>

                    </div>
                </div>

                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3" *ngIf="appSettings?.useSubmit">
                    <div class="form-group" [ngClass]="{ 'is-invalid': submit.invalid }">

                        <label for="submit">
                            Submit:
                        </label>

                        <div class="form-check">
                            <input id="submit" name="submit" class="form-check-input" type="checkbox" [(ngModel)]="options.submit" #submit="ngModel" />
                            <label class="form-check-label" for="submit">
                                Submit
                            </label>
                        </div>

                    </div>
                </div>

                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3" *ngIf="appSettings?.useVerify">
                    <div class="form-group" [ngClass]="{ 'is-invalid': verify.invalid }">

                        <label for="verify">
                            Verify:
                        </label>

                        <div class="form-check">
                            <input id="verify" name="verify" class="form-check-input" type="checkbox" [(ngModel)]="options.verify" #verify="ngModel" />
                            <label class="form-check-label" for="verify">
                                Verify
                            </label>
                        </div>

                    </div>
                </div>

                <div class="col-sm-6 col-md-6 col-lg-4 col-xl-3" *ngIf="appSettings?.useApprove">
                    <div class="form-group" [ngClass]="{ 'is-invalid': approve.invalid }">

                        <label for="approve">
                            Approve:
                        </label>

                        <div class="form-check">
                            <input id="approve" name="approve" class="form-check-input" type="checkbox" [(ngModel)]="options.approve" #approve="ngModel" />
                            <label class="form-check-label" for="approve">
                                Approve
                            </label>
                        </div>

                    </div>
                </div>

            </div>

        </fieldset>

        <ng-container *ngIf="indicators.length">

            <h4 class="mt-4 mb-0">{{indicators.length}} Indicator<span *ngIf="indicators.length>1">s</span> selected</h4>

            <div class="table-responsive mt-4 mb-5">

                <table class="table table-edge table-nowrap mb-0 align-middle">
                    <thead class="thead-light">
                        <tr>
                            <th>Category</th>
                            <th>Subcategory</th>
                            <th>Name</th>
                        </tr>
                    </thead>
                    <tbody class="list">
                        <tr *ngFor="let indicator of indicators">
                            <td>{{ indicator.subcategory.category.name }}</td>
                            <td>{{ indicator.subcategory.name }}</td>
                            <td>{{ indicator.name }} <small class="text-muted">({{indicator.code}})</small></td>
                        </tr>
                    </tbody>
                </table>

            </div>

        </ng-container>

    </form>

</div>
<div class="modal-footer">
    <div>
        <button type="submit" form="indicatorPermissionsOptions" class="btn btn-outline-success float-right me-2">Add Permissions</button>
        <button type="button" class="btn btn-outline-dark float-right" (click)="modal.dismiss()">Cancel</button>
    </div>
</div>
